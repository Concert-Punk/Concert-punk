<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
</head>
<body>

<h1>Local Events</h1>
<!--Container-->
<div class="container">
    <!-- Images Container -->
    <div class="probablywontwork"></div>
</div>
<script>
    $.ajax({
        type:"GET",
        url:"https://api.seatgeek.com/2/events?client_id=${seatGeek}&geoip=true",
        async:true,
        dataType: "json",
        success: function(data) {
            let cardMaker = ''
            let concerts = data.events.filter(element=> element.type === 'concert');
            console.log(concerts)
            for (const concerts of data.events.filter(element=> element.type === 'concert')) {
                let image = concerts.performers[0].image
                let ticketPurchaseUrl = concerts.url
                let artistIndex = concerts.title
                console.log(artistIndex);
                cardMaker += "<div class='d-inline-block'>"
                cardMaker +=` <div class='card' style='width: 18rem;'>`
                cardMaker +=`<a id="url" href="${ticketPurchaseUrl}"><img class="card-img-top" src='${image}' alt=' img'></a>`
                cardMaker += `<div class='card-body'><h2> <strong>${concerts.title}</strong> </h2> </div>`;
                cardMaker += `<div class='card-text'><h3> @${concerts.venue.name}</h3> </div>` ;
                cardMaker += `<div class='card-text'><p>${concerts.datetime_local}</p></div>
</div><br>`
                cardMaker += "</div>";
            }
            $(".probablywontwork").html(cardMaker)
        },
        error: function(xhr, status, err) {
        }
    });
</script>
</body>
</html>


